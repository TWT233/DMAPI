<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <!-- Common Properties-->
    <PropertyGroup>
        <!-- enable line numbers in stack traces (needs to embedded for Linux/macOS: https://github.com/dotnet/runtime/issues/39987) -->
        <DebugSymbols>true</DebugSymbols>
        <DebugType>embedded</DebugType>
    </PropertyGroup>

    <Import Project="derive-game-dirs.targets"/>

    <!-- Add references to Duckov assemblies -->
    <ItemGroup>
        <Reference Include="$(GameDllDir)/TeamSoda.*"/>
        <Reference Include="$(GameDllDir)/ItemStatsSystem.dll"/>
        <Reference Include="$(GameDllDir)/Unity*"/>
    </ItemGroup>

    <!-- Deploy mod in the local game-->
    <UsingTask TaskName="DeployModTask" AssemblyFile="DMAPI.ModBuildConfig.dll"/>
    <Target Name="DeployMod" AfterTargets="Build">
        <DeployModTask
                ModDllName="$(TargetName)"
                GameModsDir="$(GameModsDir)"
                ProjectDir="$(MSBuildProjectDirectory)"
                TargetDir="$(TargetDir)"

                ContinueOnError="true"
        />
    </Target>

</Project>
